Using Eigen for Matmul
Doing BaseOT ...
using silent ot pack
using silent ot pack
using silent ot pack
using silent ot pack
After one-time setup, communication
Thread i = 0, total data sent till now = 1997806
Thread i = 1, total data sent till now = 1726247
Thread i = 2, total data sent till now = 1726247
Thread i = 3, total data sent till now = 1726247
-----------Syncronizing-----------
secret_share_mod: 137438953472 bitlength: 37
backend: Ring-SilentOT-Cheetah
-----------Syncronized - now starting execution-----------
HomBN #1 via element-wise mult on 15360 points
[31m4 ==> 0[0m
[31mElemWiseSecretVectorMult Output Mismatch[0m
Time in sec for current matmul = 0.086
2048 => 0
[31mMatMul Output Mismatch[0m
Relu #1 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.286
Truncate #1 on 15360 points by 12 bits
Time in sec for current matmul = 2.747
1024 => 14802716660
[31mMatMul Output Mismatch[0m
Relu #3 on 15360 points, truncate=1 by 12 bits
Time in sec for current relu = 0.334
Maxpool 1 called N=512, H=1, W=1, C=1, ksizeH=1, ksizeW=30
Time in sec for current maxpool = 8.275
Time in sec for current matmul = 0.169
4456114052 => -23302190608
[31mMatMul Output Mismatch[0m
Relu #5 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.287
Time in sec for current matmul = 0.097
-1024 => 5534380770
[31mMatMul Output Mismatch[0m
Relu #7 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.285
Truncate #2 on 15360 points by 12 bits
Time in sec for current matmul = 2.734
1024 => -43447777292
[31mMatMul Output Mismatch[0m
Relu #9 on 15360 points, truncate=1 by 12 bits
Time in sec for current relu = 0.365
Maxpool 2 called N=512, H=1, W=1, C=1, ksizeH=1, ksizeW=30
Time in sec for current maxpool = 8.28
Time in sec for current matmul = 0.171
7143148310 => -35524459974
[31mMatMul Output Mismatch[0m
Relu #11 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.296
Time in sec for current matmul = 0.096
-1024 => -25522682244
[31mMatMul Output Mismatch[0m
Relu #13 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.286
Thread i = 0, total data sent till now = 35476256
Thread i = 1, total data sent till now = 2792551
Thread i = 2, total data sent till now = 1995447
Thread i = 3, total data sent till now = 2792551
------------------------------------------------------
------------------------------------------------------
------------------------------------------------------
Total time taken = 26678326 microseconds.
Total data sent = 34.2181 MiB.
Number of rounds = 963
Total comm (sent+received) = (see SERVER OUTPUT)
------------------------------------------------------
Total time in Conv = 0 seconds.
Total time in MatMul = 6.1 seconds.
Total time in BatchNorm = 0.157 seconds.
Total time in Truncation = 1.213 seconds.
Total time in Relu = 2.139 seconds.
Total time in MaxPool = 16.555 seconds.
Total time in AvgPool = 0 seconds.
Total time in ArgMax = 0 seconds.
Total time in MatAdd = 0 seconds.
Total time in MatAddBroadCast = 0 seconds.
Total time in MulCir = 0 seconds.
Total time in ScalarMul = 0 seconds.
Total time in Sigmoid = 0 seconds.
Total time in Tanh = 0 seconds.
Total time in Sqrt = 0 seconds.
Total time in NormaliseL2 = 0 seconds.
------------------------------------------------------
Conv data sent = 0 MiB.
MatMul data sent = 30.9564 MiB.
BatchNorm data sent = 0.714447 MiB.
Truncation data sent = 0.833191 MiB.
Relu data sent = 0.901642 MiB.
Maxpool data sent = 0.812439 MiB.
Avgpool data sent = 0 MiB.
ArgMax data sent = 0 MiB.
MatAdd data sent = 0 MiB.
MatAddBroadCast data sent = 0 MiB.
MulCir data sent = 0 MiB.
Sigmoid data sent = 0 MiB.
Tanh data sent = 0 MiB.
Sqrt data sent = 0 MiB.
NormaliseL2 data sent = 0 MiB.
------------------------------------------------------
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
Using Eigen for Matmul
Doing BaseOT ...
using silent ot pack
using silent ot pack
using silent ot pack
using silent ot pack
After one-time setup, communication
Thread i = 0, total data sent till now = 1997794
Thread i = 1, total data sent till now = 1726247
Thread i = 2, total data sent till now = 1726247
Thread i = 3, total data sent till now = 1726247
-----------Syncronizing-----------
secret_share_mod: 137438953472 bitlength: 37
backend: Ring-SilentOT-Cheetah
-----------Syncronized - now starting execution-----------
HomBN #1 via element-wise mult on 15360 points
[31m4 ==> 0[0m
[31mElemWiseSecretVectorMult Output Mismatch[0m
Time in sec for current matmul = 0.092
2048 => 0
[31mMatMul Output Mismatch[0m
Relu #1 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.286
Truncate #1 on 15360 points by 12 bits
Time in sec for current matmul = 2.729
1024 => -61232491996
[31mMatMul Output Mismatch[0m
Relu #3 on 15360 points, truncate=1 by 12 bits
Time in sec for current relu = 0.334
Maxpool 1 called N=512, H=1, W=1, C=1, ksizeH=1, ksizeW=30
Time in sec for current maxpool = 8.283
Time in sec for current matmul = 0.173
3582208574 => -34150678525
[31mMatMul Output Mismatch[0m
Relu #5 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.295
Time in sec for current matmul = 0.101
-1024 => -65482542315
[31mMatMul Output Mismatch[0m
Relu #7 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.286
Truncate #2 on 15360 points by 12 bits
Time in sec for current matmul = 2.705
1024 => -2176691676
[31mMatMul Output Mismatch[0m
Relu #9 on 15360 points, truncate=1 by 12 bits
Time in sec for current relu = 0.331
Maxpool 2 called N=512, H=1, W=1, C=1, ksizeH=1, ksizeW=30
Time in sec for current maxpool = 8.277
Time in sec for current matmul = 0.17
4565941224 => 56364943314
[31mMatMul Output Mismatch[0m
Relu #11 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.296
Time in sec for current matmul = 0.101
14091236900 => 9227451542
[31mMatMul Output Mismatch[0m
Relu #13 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.285
Thread i = 0, total data sent till now = 35476524
Thread i = 1, total data sent till now = 2792551
Thread i = 2, total data sent till now = 1995447
Thread i = 3, total data sent till now = 2792551
------------------------------------------------------
------------------------------------------------------
------------------------------------------------------
Total time taken = 26658254 microseconds.
Total data sent = 34.2183 MiB.
Number of rounds = 963
Total comm (sent+received) = (see SERVER OUTPUT)
------------------------------------------------------
Total time in Conv = 0 seconds.
Total time in MatMul = 6.071 seconds.
Total time in BatchNorm = 0.156 seconds.
Total time in Truncation = 1.205 seconds.
Total time in Relu = 2.113 seconds.
Total time in MaxPool = 16.56 seconds.
Total time in AvgPool = 0 seconds.
Total time in ArgMax = 0 seconds.
Total time in MatAdd = 0 seconds.
Total time in MatAddBroadCast = 0 seconds.
Total time in MulCir = 0 seconds.
Total time in ScalarMul = 0 seconds.
Total time in Sigmoid = 0 seconds.
Total time in Tanh = 0 seconds.
Total time in Sqrt = 0 seconds.
Total time in NormaliseL2 = 0 seconds.
------------------------------------------------------
Conv data sent = 0 MiB.
MatMul data sent = 30.9567 MiB.
BatchNorm data sent = 0.714389 MiB.
Truncation data sent = 0.833191 MiB.
Relu data sent = 0.901642 MiB.
Maxpool data sent = 0.812439 MiB.
Avgpool data sent = 0 MiB.
ArgMax data sent = 0 MiB.
MatAdd data sent = 0 MiB.
MatAddBroadCast data sent = 0 MiB.
MulCir data sent = 0 MiB.
Sigmoid data sent = 0 MiB.
Tanh data sent = 0 MiB.
Sqrt data sent = 0 MiB.
NormaliseL2 data sent = 0 MiB.
------------------------------------------------------
2252797
2252797
2252796
2252797
2252797
2252797
2252797
2252797
2252796
2252797
2252797
2252797
2252797
2252797
2252797
2252796
2252797
2252797
2252796
2252797
2252796
2252797
2252797
2252796
2252797
2252797
2252797
2252797
2252797
2252796
2252797
2252797
2252797
2252796
2252796
2252797
2252797
2252797
2252797
2252797
2252796
2252797
2252796
2252797
2252796
2252796
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252796
2252796
2252797
2252797
2252797
2252796
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252796
2252797
2252797
2252797
2252796
2252797
2252797
2252797
2252796
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252796
2252797
2252796
2252796
2252796
2252797
2252797
2252797
2252797
2252797
2252797
2252796
2252797
2252797
2252797
2252797
2252796
2252797
2252796
2252796
2252797
2252796
2252797
2252797
2252796
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252796
2252797
2252797
2252797
2252796
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252796
2252797
2252797
2252797
2252796
2252797
2252797
2252796
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252796
2252797
2252797
2252797
2252796
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252796
2252797
2252797
2252797
2252796
2252796
2252796
2252796
2252796
2252797
2252797
2252797
2252797
2252797
2252796
2252797
2252797
2252796
2252797
2252797
2252796
2252797
2252797
2252797
2252797
2252796
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252796
2252797
2252797
2252796
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252796
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252796
2252797
2252797
2252797
2252797
2252797
2252797
2252796
2252797
2252797
2252797
2252797
2252797
2252796
2252797
2252797
2252797
2252797
2252797
2252797
2252796
2252797
2252797
2252797
2252797
2252797
2252796
2252797
2252796
2252797
2252797
2252797
2252797
2252796
2252797
2252796
2252797
2252796
2252797
2252797
2252797
2252797
2252797
2252796
2252797
2252796
2252797
2252797
2252796
2252796
2252797
2252797
2252796
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252796
2252797
2252797
2252797
2252796
2252797
2252797
2252797
2252797
2252797
2252796
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252796
2252797
2252797
2252797
2252796
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252796
2252797
2252797
2252797
2252796
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252796
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252796
2252797
2252797
2252796
2252797
2252797
2252796
2252797
2252797
2252797
2252796
2252796
2252797
2252796
2252796
2252797
2252797
2252797
2252797
2252796
2252797
2252797
2252796
2252797
2252797
2252797
2252797
2252797
2252797
2252796
2252797
2252797
2252796
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252796
2252797
2252797
2252796
2252797
2252797
2252797
2252797
2252797
2252797
2252796
2252796
2252797
2252796
2252797
2252797
2252797
2252797
2252797
2252797
2252796
2252797
2252796
2252797
2252796
2252796
2252797
2252796
2252796
2252797
2252796
2252797
2252796
2252796
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252796
2252796
2252797
2252797
2252796
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
2252797
