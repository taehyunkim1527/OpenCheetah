Using Eigen for Matmul
Doing BaseOT ...
using silent ot pack
using silent ot pack
using silent ot pack
using silent ot pack
After one-time setup, communication
Thread i = 0, total data sent till now = 1997772
Thread i = 1, total data sent till now = 1726247
Thread i = 2, total data sent till now = 1726247
Thread i = 3, total data sent till now = 1726247
-----------Syncronizing-----------
secret_share_mod: 137438953472 bitlength: 37
backend: Ring-SilentOT-Cheetah
-----------Syncronized - now starting execution-----------
HomBN #1 via element-wise mult on 15360 points
[31m4 ==> 0[0m
[31mElemWiseSecretVectorMult Output Mismatch[0m
Time in sec for current matmul = 0.077
2048 => -1
[31mMatMul Output Mismatch[0m
Relu #1 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.146
Truncate #1 on 15360 points by 12 bits
Time in sec for current matmul = 2.401
1024 => -52073551094
[31mMatMul Output Mismatch[0m
Relu #3 on 15360 points, truncate=1 by 12 bits
Time in sec for current relu = 0.19
Maxpool 1 called N=512, H=1, W=1, C=1, ksizeH=1, ksizeW=30
Time in sec for current maxpool = 4.221
Time in sec for current matmul = 0.11
4802743826 => 19168794940
[31mMatMul Output Mismatch[0m
Relu #5 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.155
Truncate #2 on 15360 points by 12 bits
Time in sec for current matmul = 2.424
1024 => -7915918582
[31mMatMul Output Mismatch[0m
Relu #7 on 15360 points, truncate=1 by 12 bits
Time in sec for current relu = 0.191
Maxpool 2 called N=512, H=1, W=1, C=1, ksizeH=1, ksizeW=30
Time in sec for current maxpool = 4.226
Time in sec for current matmul = 0.112
8326415356 => 9049867058
[31mMatMul Output Mismatch[0m
Relu #9 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.154
Truncate #3 on 15360 points by 12 bits
Time in sec for current matmul = 2.414
1024 => -4292039926
[31mMatMul Output Mismatch[0m
Relu #11 on 15360 points, truncate=1 by 12 bits
Time in sec for current relu = 0.191
Maxpool 3 called N=512, H=1, W=1, C=1, ksizeH=1, ksizeW=30
Time in sec for current maxpool = 4.219
Time in sec for current matmul = 0.113
7169621446 => -30426963356
[31mMatMul Output Mismatch[0m
Relu #13 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.155
Truncate #4 on 15360 points by 12 bits
Time in sec for current matmul = 2.399
1024 => 38657633034
[31mMatMul Output Mismatch[0m
Relu #15 on 15360 points, truncate=1 by 12 bits
Time in sec for current relu = 0.189
Maxpool 4 called N=512, H=1, W=1, C=1, ksizeH=1, ksizeW=30
Time in sec for current maxpool = 4.22
Time in sec for current matmul = 0.112
6273499722 => -56511675998
[31mMatMul Output Mismatch[0m
Relu #17 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.156
Thread i = 0, total data sent till now = 65701902
Thread i = 1, total data sent till now = 3828775
Thread i = 2, total data sent till now = 2256247
Thread i = 3, total data sent till now = 3828775
------------------------------------------------------
------------------------------------------------------
------------------------------------------------------
Total time taken = 30868502 microseconds.
Total data sent = 65.2687 MiB.
Number of rounds = 1835
Total comm (sent+received) = (see SERVER OUTPUT)
------------------------------------------------------
Total time in Conv = 0 seconds.
Total time in MatMul = 10.162 seconds.
Total time in BatchNorm = 0.11 seconds.
Total time in Truncation = 1.108 seconds.
Total time in Relu = 1.527 seconds.
Total time in MaxPool = 16.886 seconds.
Total time in AvgPool = 0 seconds.
Total time in ArgMax = 0 seconds.
Total time in MatAdd = 0 seconds.
Total time in MatAddBroadCast = 0 seconds.
Total time in MulCir = 0 seconds.
Total time in ScalarMul = 0 seconds.
Total time in Sigmoid = 0 seconds.
Total time in Tanh = 0 seconds.
Total time in Sqrt = 0 seconds.
Total time in NormaliseL2 = 0 seconds.
------------------------------------------------------
Conv data sent = 0 MiB.
MatMul data sent = 59.5331 MiB.
BatchNorm data sent = 0.714435 MiB.
Truncation data sent = 1.66302 MiB.
Relu data sent = 1.73325 MiB.
Maxpool data sent = 1.62488 MiB.
Avgpool data sent = 0 MiB.
ArgMax data sent = 0 MiB.
MatAdd data sent = 0 MiB.
MatAddBroadCast data sent = 0 MiB.
MulCir data sent = 0 MiB.
Sigmoid data sent = 0 MiB.
Tanh data sent = 0 MiB.
Sqrt data sent = 0 MiB.
NormaliseL2 data sent = 0 MiB.
------------------------------------------------------
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
0
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
Using Eigen for Matmul
Doing BaseOT ...
using silent ot pack
using silent ot pack
using silent ot pack
using silent ot pack
After one-time setup, communication
Thread i = 0, total data sent till now = 1997815
Thread i = 1, total data sent till now = 1726247
Thread i = 2, total data sent till now = 1726247
Thread i = 3, total data sent till now = 1726247
-----------Syncronizing-----------
secret_share_mod: 137438953472 bitlength: 37
backend: Ring-SilentOT-Cheetah
-----------Syncronized - now starting execution-----------
HomBN #1 via element-wise mult on 15360 points
[31m4 ==> 0[0m
[31mElemWiseSecretVectorMult Output Mismatch[0m
Time in sec for current matmul = 0.078
2048 => 0
[31mMatMul Output Mismatch[0m
Relu #1 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.146
Truncate #1 on 15360 points by 12 bits
Time in sec for current matmul = 2.417
1028 => 43045435737
[31mMatMul Output Mismatch[0m
Relu #3 on 15360 points, truncate=1 by 12 bits
Time in sec for current relu = 0.199
Maxpool 1 called N=512, H=1, W=1, C=1, ksizeH=1, ksizeW=30
Time in sec for current maxpool = 4.227
Time in sec for current matmul = 0.114
4925454214 => -35143334610
[31mMatMul Output Mismatch[0m
Relu #5 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.155
Truncate #2 on 15360 points by 12 bits
Time in sec for current matmul = 2.444
1028 => 29892098394
[31mMatMul Output Mismatch[0m
Relu #7 on 15360 points, truncate=1 by 12 bits
Time in sec for current relu = 0.191
Maxpool 2 called N=512, H=1, W=1, C=1, ksizeH=1, ksizeW=30
Time in sec for current maxpool = 4.23
Time in sec for current matmul = 0.113
2166972972 => -54322255950
[31mMatMul Output Mismatch[0m
Relu #9 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.156
Truncate #3 on 15360 points by 12 bits
Time in sec for current matmul = 2.425
1028 => -46477788838
[31mMatMul Output Mismatch[0m
Relu #11 on 15360 points, truncate=1 by 12 bits
Time in sec for current relu = 0.197
Maxpool 3 called N=512, H=1, W=1, C=1, ksizeH=1, ksizeW=30
Time in sec for current maxpool = 4.228
Time in sec for current matmul = 0.112
3802730398 => 40872300410
[31mMatMul Output Mismatch[0m
Relu #13 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.154
Truncate #4 on 15360 points by 12 bits
Time in sec for current matmul = 2.403
1028 => 37274073434
[31mMatMul Output Mismatch[0m
Relu #15 on 15360 points, truncate=1 by 12 bits
Time in sec for current relu = 0.2
Maxpool 4 called N=512, H=1, W=1, C=1, ksizeH=1, ksizeW=30
Time in sec for current maxpool = 4.222
Time in sec for current matmul = 0.113
15948305808 => 42597772560
[31mMatMul Output Mismatch[0m
Relu #17 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.156
Thread i = 0, total data sent till now = 65701642
Thread i = 1, total data sent till now = 3828775
Thread i = 2, total data sent till now = 2256247
Thread i = 3, total data sent till now = 3828775
------------------------------------------------------
------------------------------------------------------
------------------------------------------------------
Total time taken = 30976224 microseconds.
Total data sent = 65.2684 MiB.
Number of rounds = 1835
Total comm (sent+received) = (see SERVER OUTPUT)
------------------------------------------------------
Total time in Conv = 0 seconds.
Total time in MatMul = 10.219 seconds.
Total time in BatchNorm = 0.111 seconds.
Total time in Truncation = 1.109 seconds.
Total time in Relu = 1.554 seconds.
Total time in MaxPool = 16.907 seconds.
Total time in AvgPool = 0 seconds.
Total time in ArgMax = 0 seconds.
Total time in MatAdd = 0 seconds.
Total time in MatAddBroadCast = 0 seconds.
Total time in MulCir = 0 seconds.
Total time in ScalarMul = 0 seconds.
Total time in Sigmoid = 0 seconds.
Total time in Tanh = 0 seconds.
Total time in Sqrt = 0 seconds.
Total time in NormaliseL2 = 0 seconds.
------------------------------------------------------
Conv data sent = 0 MiB.
MatMul data sent = 59.5329 MiB.
BatchNorm data sent = 0.714399 MiB.
Truncation data sent = 1.66302 MiB.
Relu data sent = 1.73325 MiB.
Maxpool data sent = 1.62488 MiB.
Avgpool data sent = 0 MiB.
ArgMax data sent = 0 MiB.
MatAdd data sent = 0 MiB.
MatAddBroadCast data sent = 0 MiB.
MulCir data sent = 0 MiB.
Sigmoid data sent = 0 MiB.
Tanh data sent = 0 MiB.
Sqrt data sent = 0 MiB.
NormaliseL2 data sent = 0 MiB.
------------------------------------------------------
10399848
10399848
10399847
10399848
10399848
10399847
10399847
10399848
10399848
10399848
10399847
10399848
10399848
10399847
10399848
10399848
10399848
10399848
10399848
10399848
10399847
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399847
10399848
10399847
10399848
10399847
10399848
10399847
10399848
10399848
10399848
10399848
10399848
10399848
10399847
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399847
10399848
10399848
10399848
10399848
10399847
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399847
10399848
10399848
10399848
10399848
10399847
10399848
10399847
10399848
10399848
10399848
10399848
10399848
10399847
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399847
10399848
10399848
10399848
10399848
10399848
10399848
10399847
10399848
10399848
10399848
10399848
10399848
10399847
10399848
10399848
10399848
10399848
10399848
10399847
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399847
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399847
10399848
10399848
10399848
10399848
10399848
10399848
10399847
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399847
10399848
10399848
10399848
10399848
10399847
10399848
10399848
10399848
10399848
10399848
10399847
10399848
10399848
10399848
10399848
10399848
10399847
10399848
10399847
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399847
10399848
10399848
10399847
10399847
10399848
10399847
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399847
10399848
10399847
10399848
10399847
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399847
10399848
10399848
10399848
10399847
10399848
10399847
10399848
10399848
10399847
10399848
10399847
10399848
10399848
10399847
10399848
10399848
10399847
10399847
10399848
10399848
10399848
10399848
10399848
10399847
10399848
10399848
10399848
10399848
10399848
10399847
10399848
10399848
10399848
10399848
10399848
10399847
10399848
10399848
10399848
10399847
10399848
10399848
10399847
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399847
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399847
10399848
10399848
10399847
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399847
10399847
10399848
10399848
10399848
10399847
10399848
10399848
10399848
10399848
10399848
10399848
10399847
10399847
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399847
10399848
10399847
10399848
10399847
10399848
10399848
10399847
10399848
10399848
10399848
10399848
10399847
10399847
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399847
10399848
10399847
10399848
10399848
10399848
10399847
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399847
10399848
10399848
10399848
10399848
10399847
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399847
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399847
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399847
10399848
10399848
10399847
10399848
10399847
10399848
10399848
10399847
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399847
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399847
10399848
10399848
10399848
10399847
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399847
10399848
10399848
10399848
10399847
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399848
10399847
10399847
10399847
10399848
10399848
10399848
10399848
10399848
10399848
10399847
10399848
10399848
