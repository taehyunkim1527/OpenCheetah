Using Eigen for Matmul
Doing BaseOT ...
using silent ot pack
using silent ot pack
using silent ot pack
using silent ot pack
After one-time setup, communication
Thread i = 0, total data sent till now = 1997809
Thread i = 1, total data sent till now = 1726247
Thread i = 2, total data sent till now = 1726247
Thread i = 3, total data sent till now = 1726247
-----------Syncronizing-----------
secret_share_mod: 137438953472 bitlength: 37
backend: Ring-SilentOT-Cheetah
-----------Syncronized - now starting execution-----------
HomBN #1 via element-wise mult on 51200 points
[31m4 ==> 0[0m
[31mElemWiseSecretVectorMult Output Mismatch[0m
Time in sec for current matmul = 0.09
2048 => 0
[31mMatMul Output Mismatch[0m
Relu #1 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.286
Truncate #1 on 51200 points by 12 bits
Time in sec for current matmul = 9.01
1024 => 2632563168
[31mMatMul Output Mismatch[0m
Relu #3 on 51200 points, truncate=1 by 12 bits
Time in sec for current relu = 0.446
Maxpool 1 called N=512, H=1, W=1, C=1, ksizeH=1, ksizeW=100
Time in sec for current maxpool = 28.307
Time in sec for current matmul = 0.172
4542088424 => -62257620008
[31mMatMul Output Mismatch[0m
Relu #5 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.287
Truncate #2 on 51200 points by 12 bits
Time in sec for current matmul = 9.065
1024 => -21459519009
[31mMatMul Output Mismatch[0m
Relu #7 on 51200 points, truncate=1 by 12 bits
Time in sec for current relu = 0.432
Maxpool 2 called N=512, H=1, W=1, C=1, ksizeH=1, ksizeW=100
Time in sec for current maxpool = 28.292
Time in sec for current matmul = 0.176
4494806506 => -51771117022
[31mMatMul Output Mismatch[0m
Relu #9 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.295
Truncate #3 on 51200 points by 12 bits
Time in sec for current matmul = 9.052
1024 => -9312814624
[31mMatMul Output Mismatch[0m
Relu #11 on 51200 points, truncate=1 by 12 bits
Time in sec for current relu = 0.466
Maxpool 3 called N=512, H=1, W=1, C=1, ksizeH=1, ksizeW=100
Time in sec for current maxpool = 28.28
Time in sec for current matmul = 0.177
5636176980 => 2768987644
[31mMatMul Output Mismatch[0m
Relu #13 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.295
Truncate #4 on 51200 points by 12 bits
Time in sec for current matmul = 9.109
1024 => -46960887328
[31mMatMul Output Mismatch[0m
Relu #15 on 51200 points, truncate=1 by 12 bits
Time in sec for current relu = 0.428
Maxpool 4 called N=512, H=1, W=1, C=1, ksizeH=1, ksizeW=100
Time in sec for current maxpool = 28.306
Time in sec for current matmul = 0.17
5035849954 => -28139180178
[31mMatMul Output Mismatch[0m
Relu #17 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.296
Thread i = 0, total data sent till now = 208450692
Thread i = 1, total data sent till now = 8716455
Thread i = 2, total data sent till now = 3488247
Thread i = 3, total data sent till now = 8716455
------------------------------------------------------
------------------------------------------------------
------------------------------------------------------
Total time taken = 157048201 microseconds.
Total data sent = 211.902 MiB.
Number of rounds = 5755
Total comm (sent+received) = (see SERVER OUTPUT)
------------------------------------------------------
Total time in Conv = 0 seconds.
Total time in MatMul = 37.021 seconds.
Total time in BatchNorm = 0.263 seconds.
Total time in Truncation = 2.456 seconds.
Total time in Relu = 3.231 seconds.
Total time in MaxPool = 113.185 seconds.
Total time in AvgPool = 0 seconds.
Total time in ArgMax = 0 seconds.
Total time in MatAdd = 0 seconds.
Total time in MatAddBroadCast = 0 seconds.
Total time in MulCir = 0 seconds.
Total time in ScalarMul = 0 seconds.
Total time in Sigmoid = 0 seconds.
Total time in Tanh = 0 seconds.
Total time in Sqrt = 0 seconds.
Total time in NormaliseL2 = 0 seconds.
------------------------------------------------------
Conv data sent = 0 MiB.
MatMul data sent = 192.887 MiB.
BatchNorm data sent = 2.32174 MiB.
Truncation data sent = 5.53387 MiB.
Relu data sent = 5.61264 MiB.
Maxpool data sent = 5.547 MiB.
Avgpool data sent = 0 MiB.
ArgMax data sent = 0 MiB.
MatAdd data sent = 0 MiB.
MatAddBroadCast data sent = 0 MiB.
MulCir data sent = 0 MiB.
Sigmoid data sent = 0 MiB.
Tanh data sent = 0 MiB.
Sqrt data sent = 0 MiB.
NormaliseL2 data sent = 0 MiB.
------------------------------------------------------
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
Using Eigen for Matmul
Doing BaseOT ...
using silent ot pack
using silent ot pack
using silent ot pack
using silent ot pack
After one-time setup, communication
Thread i = 0, total data sent till now = 1997741
Thread i = 1, total data sent till now = 1726247
Thread i = 2, total data sent till now = 1726247
Thread i = 3, total data sent till now = 1726247
-----------Syncronizing-----------
secret_share_mod: 137438953472 bitlength: 37
backend: Ring-SilentOT-Cheetah
-----------Syncronized - now starting execution-----------
HomBN #1 via element-wise mult on 51200 points
[31m4 ==> 0[0m
[31mElemWiseSecretVectorMult Output Mismatch[0m
Time in sec for current matmul = 0.088
2048 => 0
[31mMatMul Output Mismatch[0m
Relu #1 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.286
Truncate #1 on 51200 points by 12 bits
Time in sec for current matmul = 9.031
1024 => -6907089944
[31mMatMul Output Mismatch[0m
Relu #3 on 51200 points, truncate=1 by 12 bits
Time in sec for current relu = 0.432
Maxpool 1 called N=512, H=1, W=1, C=1, ksizeH=1, ksizeW=100
Time in sec for current maxpool = 28.288
Time in sec for current matmul = 0.168
4760508798 => 43628845528
[31mMatMul Output Mismatch[0m
Relu #5 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.296
Truncate #2 on 51200 points by 12 bits
Time in sec for current matmul = 9.143
1024 => -22946108440
[31mMatMul Output Mismatch[0m
Relu #7 on 51200 points, truncate=1 by 12 bits
Time in sec for current relu = 0.452
Maxpool 2 called N=512, H=1, W=1, C=1, ksizeH=1, ksizeW=100
Time in sec for current maxpool = 28.277
Time in sec for current matmul = 0.171
16125294642 => -67592976637
[31mMatMul Output Mismatch[0m
Relu #9 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.295
Truncate #3 on 51200 points by 12 bits
Time in sec for current matmul = 9.041
1024 => 4232981480
[31mMatMul Output Mismatch[0m
Relu #11 on 51200 points, truncate=1 by 12 bits
Time in sec for current relu = 0.421
Maxpool 3 called N=512, H=1, W=1, C=1, ksizeH=1, ksizeW=100
Time in sec for current maxpool = 28.315
Time in sec for current matmul = 0.174
5479561128 => 19956885292
[31mMatMul Output Mismatch[0m
Relu #13 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.295
Truncate #4 on 51200 points by 12 bits
Time in sec for current matmul = 9.114
1024 => 67583749096
[31mMatMul Output Mismatch[0m
Relu #15 on 51200 points, truncate=1 by 12 bits
Time in sec for current relu = 0.445
Maxpool 4 called N=512, H=1, W=1, C=1, ksizeH=1, ksizeW=100
Time in sec for current maxpool = 28.282
Time in sec for current matmul = 0.172
10395899428 => 3996644650
[31mMatMul Output Mismatch[0m
Relu #17 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.295
Thread i = 0, total data sent till now = 208449470
Thread i = 1, total data sent till now = 8716455
Thread i = 2, total data sent till now = 3488247
Thread i = 3, total data sent till now = 8716455
------------------------------------------------------
------------------------------------------------------
------------------------------------------------------
Total time taken = 157099222 microseconds.
Total data sent = 211.901 MiB.
Number of rounds = 5755
Total comm (sent+received) = (see SERVER OUTPUT)
------------------------------------------------------
Total time in Conv = 0 seconds.
Total time in MatMul = 37.102 seconds.
Total time in BatchNorm = 0.263 seconds.
Total time in Truncation = 2.455 seconds.
Total time in Relu = 3.217 seconds.
Total time in MaxPool = 113.162 seconds.
Total time in AvgPool = 0 seconds.
Total time in ArgMax = 0 seconds.
Total time in MatAdd = 0 seconds.
Total time in MatAddBroadCast = 0 seconds.
Total time in MulCir = 0 seconds.
Total time in ScalarMul = 0 seconds.
Total time in Sigmoid = 0 seconds.
Total time in Tanh = 0 seconds.
Total time in Sqrt = 0 seconds.
Total time in NormaliseL2 = 0 seconds.
------------------------------------------------------
Conv data sent = 0 MiB.
MatMul data sent = 192.886 MiB.
BatchNorm data sent = 2.32158 MiB.
Truncation data sent = 5.53387 MiB.
Relu data sent = 5.61264 MiB.
Maxpool data sent = 5.547 MiB.
Avgpool data sent = 0 MiB.
ArgMax data sent = 0 MiB.
MatAdd data sent = 0 MiB.
MatAddBroadCast data sent = 0 MiB.
MulCir data sent = 0 MiB.
Sigmoid data sent = 0 MiB.
Tanh data sent = 0 MiB.
Sqrt data sent = 0 MiB.
NormaliseL2 data sent = 0 MiB.
------------------------------------------------------
975744
975744
975744
975744
975744
975744
975745
975745
975744
975745
975744
975744
975744
975744
975744
975745
975744
975744
975745
975744
975745
975745
975745
975744
975744
975744
975744
975744
975744
975744
975745
975744
975744
975744
975744
975744
975744
975744
975744
975745
975744
975745
975744
975745
975744
975744
975744
975744
975744
975745
975744
975745
975744
975745
975744
975744
975744
975745
975744
975744
975745
975744
975744
975744
975744
975744
975744
975744
975744
975744
975744
975745
975744
975745
975745
975745
975745
975744
975744
975744
975744
975745
975744
975745
975745
975745
975744
975745
975744
975744
975744
975744
975744
975745
975744
975744
975745
975745
975745
975745
975744
975745
975744
975744
975744
975744
975744
975744
975745
975744
975744
975745
975744
975744
975745
975744
975744
975744
975744
975744
975744
975744
975744
975745
975745
975744
975744
975744
975744
975744
975744
975744
975744
975745
975744
975745
975744
975744
975744
975744
975744
975744
975744
975744
975745
975744
975744
975744
975744
975745
975744
975744
975744
975744
975744
975744
975744
975744
975744
975744
975744
975745
975744
975744
975744
975744
975744
975745
975744
975744
975744
975745
975745
975744
975744
975744
975745
975744
975744
975744
975745
975745
975744
975744
975745
975744
975745
975744
975745
975745
975744
975745
975744
975745
975744
975744
975744
975745
975745
975744
975745
975745
975744
975744
975745
975745
975745
975744
975744
975745
975744
975745
975745
975744
975744
975745
975744
975744
975745
975744
975745
975744
975745
975744
975744
975744
975745
975744
975745
975745
975745
975745
975745
975744
975745
975744
975744
975744
975744
975744
975745
975744
975745
975744
975744
975744
975744
975745
975744
975744
975744
975745
975744
975744
975745
975744
975744
975744
975744
975745
975745
975744
975744
975744
975745
975744
975744
975744
975745
975745
975744
975745
975744
975744
975745
975744
975745
975745
975744
975744
975744
975744
975745
975744
975744
975745
975744
975744
975744
975744
975744
975745
975745
975744
975744
975744
975744
975745
975744
975744
975744
975744
975745
975744
975744
975744
975744
975744
975744
975744
975744
975744
975745
975745
975744
975744
975745
975744
975744
975744
975744
975745
975744
975745
975745
975744
975744
975744
975745
975744
975744
975745
975745
975744
975744
975744
975745
975744
975744
975744
975744
975744
975744
975745
975744
975745
975744
975745
975744
975745
975744
975744
975744
975744
975745
975744
975745
975745
975744
975744
975745
975744
975744
975744
975744
975745
975744
975745
975745
975744
975744
975744
975744
975744
975745
975745
975744
975744
975745
975744
975744
975744
975744
975745
975745
975745
975745
975745
975745
975744
975744
975744
975744
975744
975744
975745
975745
975745
975744
975744
975744
975744
975744
975744
975744
975744
975744
975745
975744
975744
975745
975744
975744
975744
975744
975744
975745
975744
975745
975744
975745
975744
975744
975745
975744
975744
975744
975745
975744
975744
975744
975744
975745
975744
975745
975744
975744
975744
975744
975744
975744
975744
975744
975744
975745
975744
975745
975744
975744
975744
975744
975744
975744
975744
975744
975744
975745
975744
975744
975744
975745
975744
975744
975745
975744
975745
975744
975744
975744
975744
975744
975745
975744
975745
975745
975744
975744
975744
975744
975744
975744
975744
975744
975745
975745
975745
975744
975744
975744
975744
975744
975744
975745
975744
975744
975744
975744
975744
975744
975744
975745
975744
975745
975745
975744
975744
975744
975744
975744
975745
975744
975745
