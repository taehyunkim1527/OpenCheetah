Using Eigen for Matmul
Doing BaseOT ...
using silent ot pack
using silent ot pack
using silent ot pack
using silent ot pack
After one-time setup, communication
Thread i = 0, total data sent till now = 1997814
Thread i = 1, total data sent till now = 1726247
Thread i = 2, total data sent till now = 1726247
Thread i = 3, total data sent till now = 1726247
-----------Syncronizing-----------
secret_share_mod: 137438953472 bitlength: 37
backend: Ring-SilentOT-Cheetah
-----------Syncronized - now starting execution-----------
HomBN #1 via element-wise mult on 25600 points
[31m4 ==> 0[0m
[31mElemWiseSecretVectorMult Output Mismatch[0m
Time in sec for current matmul = 0.089
2048 => 0
[31mMatMul Output Mismatch[0m
Relu #1 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.286
Truncate #1 on 25600 points by 12 bits
Time in sec for current matmul = 4.487
1026 => 8737213118
[31mMatMul Output Mismatch[0m
Relu #3 on 25600 points, truncate=1 by 12 bits
Time in sec for current relu = 0.375
Maxpool 1 called N=512, H=1, W=1, C=1, ksizeH=1, ksizeW=50
Time in sec for current maxpool = 14
Time in sec for current matmul = 0.166
3604658156 => -39454151078
[31mMatMul Output Mismatch[0m
Relu #5 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.295
Time in sec for current matmul = 0.091
-1024 => 4749399282
[31mMatMul Output Mismatch[0m
Relu #7 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.285
Truncate #2 on 25600 points by 12 bits
Time in sec for current matmul = 4.465
1026 => 10884696766
[31mMatMul Output Mismatch[0m
Relu #9 on 25600 points, truncate=1 by 12 bits
Time in sec for current relu = 0.368
Maxpool 2 called N=512, H=1, W=1, C=1, ksizeH=1, ksizeW=50
Time in sec for current maxpool = 13.993
Time in sec for current matmul = 0.172
4093026326 => 52034074811
[31mMatMul Output Mismatch[0m
Relu #11 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.295
Time in sec for current matmul = 0.092
13008519740 => -17143302696
[31mMatMul Output Mismatch[0m
Relu #13 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.285
Truncate #3 on 25600 points by 12 bits
Time in sec for current matmul = 4.541
1026 => -13744256322
[31mMatMul Output Mismatch[0m
Relu #15 on 25600 points, truncate=1 by 12 bits
Time in sec for current relu = 0.366
Maxpool 3 called N=512, H=1, W=1, C=1, ksizeH=1, ksizeW=50
Time in sec for current maxpool = 13.996
Time in sec for current matmul = 0.176
2848953756 => -17786952226
[31mMatMul Output Mismatch[0m
Relu #17 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.295
Time in sec for current matmul = 0.097
-1024 => -29690101150
[31mMatMul Output Mismatch[0m
Relu #19 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.286
Truncate #4 on 25600 points by 12 bits
Time in sec for current matmul = 4.507
1026 => -4349015362
[31mMatMul Output Mismatch[0m
Relu #21 on 25600 points, truncate=1 by 12 bits
Time in sec for current relu = 0.371
Maxpool 4 called N=512, H=1, W=1, C=1, ksizeH=1, ksizeW=50
Time in sec for current maxpool = 13.995
Time in sec for current matmul = 0.168
5618992800 => 32933927185
[31mMatMul Output Mismatch[0m
Relu #23 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.294
Time in sec for current matmul = 0.096
8233482788 => -35574722162
[31mMatMul Output Mismatch[0m
Relu #25 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.285
Thread i = 0, total data sent till now = 108571409
Thread i = 1, total data sent till now = 5249319
Thread i = 2, total data sent till now = 2614967
Thread i = 3, total data sent till now = 5249319
------------------------------------------------------
------------------------------------------------------
------------------------------------------------------
Total time taken = 82876375 microseconds.
Total data sent = 109.204 MiB.
Number of rounds = 3027
Total comm (sent+received) = (see SERVER OUTPUT)
------------------------------------------------------
Total time in Conv = 0 seconds.
Total time in MatMul = 19.147 seconds.
Total time in BatchNorm = 0.188 seconds.
Total time in Truncation = 2.422 seconds.
Total time in Relu = 4.086 seconds.
Total time in MaxPool = 55.984 seconds.
Total time in AvgPool = 0 seconds.
Total time in ArgMax = 0 seconds.
Total time in MatAdd = 0 seconds.
Total time in MatAddBroadCast = 0 seconds.
Total time in MulCir = 0 seconds.
Total time in ScalarMul = 0 seconds.
Total time in Sigmoid = 0 seconds.
Total time in Tanh = 0 seconds.
Total time in Sqrt = 0 seconds.
Total time in NormaliseL2 = 0 seconds.
------------------------------------------------------
Conv data sent = 0 MiB.
MatMul data sent = 99.5387 MiB.
BatchNorm data sent = 1.25026 MiB.
Truncation data sent = 2.77167 MiB.
Relu data sent = 2.89767 MiB.
Maxpool data sent = 2.74548 MiB.
Avgpool data sent = 0 MiB.
ArgMax data sent = 0 MiB.
MatAdd data sent = 0 MiB.
MatAddBroadCast data sent = 0 MiB.
MulCir data sent = 0 MiB.
Sigmoid data sent = 0 MiB.
Tanh data sent = 0 MiB.
Sqrt data sent = 0 MiB.
NormaliseL2 data sent = 0 MiB.
------------------------------------------------------
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
Using Eigen for Matmul
Doing BaseOT ...
using silent ot pack
using silent ot pack
using silent ot pack
using silent ot pack
After one-time setup, communication
Thread i = 0, total data sent till now = 1997825
Thread i = 1, total data sent till now = 1726247
Thread i = 2, total data sent till now = 1726247
Thread i = 3, total data sent till now = 1726247
-----------Syncronizing-----------
secret_share_mod: 137438953472 bitlength: 37
backend: Ring-SilentOT-Cheetah
-----------Syncronized - now starting execution-----------
HomBN #1 via element-wise mult on 25600 points
[31m4 ==> 0[0m
[31mElemWiseSecretVectorMult Output Mismatch[0m
Time in sec for current matmul = 0.093
2048 => 0
[31mMatMul Output Mismatch[0m
Relu #1 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.286
Truncate #1 on 25600 points by 12 bits
Time in sec for current matmul = 4.546
1024 => -58404270214
[31mMatMul Output Mismatch[0m
Relu #3 on 25600 points, truncate=1 by 12 bits
Time in sec for current relu = 0.375
Maxpool 1 called N=512, H=1, W=1, C=1, ksizeH=1, ksizeW=50
Time in sec for current maxpool = 13.992
Time in sec for current matmul = 0.172
2604794226 => -51440110586
[31mMatMul Output Mismatch[0m
Relu #5 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.295
Time in sec for current matmul = 0.095
-1024 => 60440984822
[31mMatMul Output Mismatch[0m
Relu #7 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.285
Truncate #2 on 25600 points by 12 bits
Time in sec for current matmul = 4.521
1024 => -9549017222
[31mMatMul Output Mismatch[0m
Relu #9 on 25600 points, truncate=1 by 12 bits
Time in sec for current relu = 0.372
Maxpool 2 called N=512, H=1, W=1, C=1, ksizeH=1, ksizeW=50
Time in sec for current maxpool = 13.99
Time in sec for current matmul = 0.174
19206389028 => -5524285196
[31mMatMul Output Mismatch[0m
Relu #11 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.296
Time in sec for current matmul = 0.097
-1024 => 36297143731
[31mMatMul Output Mismatch[0m
Relu #13 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.286
Truncate #3 on 25600 points by 12 bits
Time in sec for current matmul = 4.559
1024 => -44982497415
[31mMatMul Output Mismatch[0m
Relu #15 on 25600 points, truncate=1 by 12 bits
Time in sec for current relu = 0.369
Maxpool 3 called N=512, H=1, W=1, C=1, ksizeH=1, ksizeW=50
Time in sec for current maxpool = 13.995
Time in sec for current matmul = 0.174
14209194794 => -53635281803
[31mMatMul Output Mismatch[0m
Relu #17 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.295
Time in sec for current matmul = 0.096
-1018 => 23727910715
[31mMatMul Output Mismatch[0m
Relu #19 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.285
Truncate #4 on 25600 points by 12 bits
Time in sec for current matmul = 4.557
1024 => -18474496134
[31mMatMul Output Mismatch[0m
Relu #21 on 25600 points, truncate=1 by 12 bits
Time in sec for current relu = 0.374
Maxpool 4 called N=512, H=1, W=1, C=1, ksizeH=1, ksizeW=50
Time in sec for current maxpool = 14
Time in sec for current matmul = 0.172
10512718326 => -44631971918
[31mMatMul Output Mismatch[0m
Relu #23 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.296
Time in sec for current matmul = 0.096
-1022 => 41738190114
[31mMatMul Output Mismatch[0m
Relu #25 on 512 points, truncate=1 by 12 bits
Time in sec for current relu = 0.286
Thread i = 0, total data sent till now = 108570506
Thread i = 1, total data sent till now = 5249319
Thread i = 2, total data sent till now = 2614967
Thread i = 3, total data sent till now = 5249319
------------------------------------------------------
------------------------------------------------------
------------------------------------------------------
Total time taken = 83161167 microseconds.
Total data sent = 109.203 MiB.
Number of rounds = 3027
Total comm (sent+received) = (see SERVER OUTPUT)
------------------------------------------------------
Total time in Conv = 0 seconds.
Total time in MatMul = 19.352 seconds.
Total time in BatchNorm = 0.186 seconds.
Total time in Truncation = 2.421 seconds.
Total time in Relu = 4.1 seconds.
Total time in MaxPool = 55.977 seconds.
Total time in AvgPool = 0 seconds.
Total time in ArgMax = 0 seconds.
Total time in MatAdd = 0 seconds.
Total time in MatAddBroadCast = 0 seconds.
Total time in MulCir = 0 seconds.
Total time in ScalarMul = 0 seconds.
Total time in Sigmoid = 0 seconds.
Total time in Tanh = 0 seconds.
Total time in Sqrt = 0 seconds.
Total time in NormaliseL2 = 0 seconds.
------------------------------------------------------
Conv data sent = 0 MiB.
MatMul data sent = 99.538 MiB.
BatchNorm data sent = 1.25007 MiB.
Truncation data sent = 2.77167 MiB.
Relu data sent = 2.89767 MiB.
Maxpool data sent = 2.74548 MiB.
Avgpool data sent = 0 MiB.
ArgMax data sent = 0 MiB.
MatAdd data sent = 0 MiB.
MatAddBroadCast data sent = 0 MiB.
MulCir data sent = 0 MiB.
Sigmoid data sent = 0 MiB.
Tanh data sent = 0 MiB.
Sqrt data sent = 0 MiB.
NormaliseL2 data sent = 0 MiB.
------------------------------------------------------
10189989
10189988
10189989
10189989
10189989
10189989
10189988
10189988
10189989
10189988
10189989
10189989
10189988
10189989
10189989
10189989
10189989
10189989
10189989
10189988
10189988
10189989
10189988
10189989
10189989
10189988
10189989
10189988
10189988
10189989
10189989
10189988
10189988
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189988
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189988
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189988
10189989
10189989
10189988
10189989
10189988
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189988
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189988
10189989
10189989
10189989
10189989
10189989
10189989
10189988
10189989
10189989
10189989
10189989
10189988
10189989
10189989
10189989
10189988
10189989
10189989
10189989
10189988
10189989
10189989
10189989
10189989
10189988
10189988
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189988
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189988
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189988
10189989
10189989
10189989
10189989
10189988
10189989
10189989
10189988
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189988
10189988
10189989
10189989
10189989
10189989
10189989
10189988
10189988
10189989
10189989
10189989
10189989
10189988
10189989
10189989
10189988
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189988
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189988
10189989
10189988
10189988
10189988
10189989
10189989
10189989
10189988
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189988
10189989
10189988
10189989
10189988
10189989
10189988
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189988
10189989
10189988
10189989
10189989
10189989
10189989
10189989
10189989
10189988
10189988
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189988
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189988
10189989
10189989
10189989
10189989
10189989
10189989
10189988
10189989
10189989
10189988
10189988
10189989
10189989
10189989
10189989
10189988
10189988
10189989
10189989
10189988
10189989
10189989
10189988
10189988
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189988
10189989
10189989
10189989
10189989
10189988
10189989
10189989
10189988
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189988
10189988
10189989
10189989
10189989
10189989
10189989
10189988
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189988
10189989
10189989
10189988
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189988
10189989
10189989
10189989
10189989
10189988
10189988
10189988
10189989
10189989
10189989
10189989
10189989
10189989
10189988
10189989
10189988
10189988
10189989
10189989
10189989
10189989
10189989
10189989
10189988
10189989
10189988
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189988
10189989
10189989
10189989
10189989
10189989
10189989
10189988
10189989
10189989
10189989
10189989
10189989
10189988
10189989
10189989
10189989
10189989
10189988
10189989
10189989
10189989
10189989
10189989
10189989
10189988
10189988
10189989
10189988
10189989
10189989
10189989
10189988
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189988
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189988
10189989
10189988
10189989
10189989
10189989
10189988
10189989
10189989
10189989
10189989
10189989
10189989
10189989
10189988
10189988
10189989
10189989
10189989
10189989
10189988
10189989
10189988
10189989
10189989
10189989
10189989
10189989
10189989
10189988
10189988
10189989
